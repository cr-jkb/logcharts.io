(()=>{"use strict";var t={726:(t,e,i)=>{function n(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t}function r(t){if(t){const e=t.split(":"),i=new Date;if(i.setHours(e[0]),i.setMinutes(e[1]),i.setSeconds(e[2]),!isNaN(i.getTime()))return i}}function a(t){if(t){if("No"==t)return 0;if("Yes"==t)return 1;if(!isNaN(t))return parseFloat(t)}}function o(t,e){let i=t.tooltipCircle.node().getBoundingClientRect(),n=15*(document.querySelectorAll(".selector-btn").length-1),r=i.bottom+20+n-document.querySelector(".domain").getBoundingClientRect().y+n,a=e?-21-r:-21,o=e?15-r:15;t.tooltip.node().setAttribute("y",a),t.tooltipBackground.node().setAttribute("y",a),t.tooltipBackgroundStroke.node().setAttribute("y",a),t.tooltipTime.node().setAttribute("dy",o)}function l(t,e){const i=d3.bisector((t=>r(t.Time))).center,n=e.invert(d3.pointer(event,this)[0]),a=i(t.chart.log,n,1),o=t.chart.log[a-1],l=t.chart.log[a];return l&&n-r(o.Time)>r(l.Time)-n?l:o}function c(t,e,i,n){let r=t+": "+a(e[t]),o=i.tooltipBackground.node().getBoundingClientRect().width+15,l=n?5-o:20;i.tooltipText.append("tspan").text(r).attr("id",t).attr("class","tooltip-value").attr("x",l).attr("dy",15)}function s(t,e){let i=document.querySelector(".selector-btn-container"),n=!1;0==i.children.length&&(n=!0);let r=document.createElement("div");r.classList.add("selector-div"),r.style.borderBottom="3px solid "+e;let a=document.createElement("div");a.classList.add("color-picker"),r.appendChild(a);let o=document.createElement("input");o.setAttribute("type","radio"),o.setAttribute("id",t),o.setAttribute("name","selector-btn"),n&&(o.checked=!0),o.classList.add("selector-btn");let l=document.createElement("label");if(l.innerHTML="CPU [°C]",r.appendChild(o),r.appendChild(l),i.appendChild(r),Pickr.create({el:".color-picker",theme:"nano",default:e,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0}}}).on("change",(function(e,i,n){document.querySelector("path#"+t).setAttribute("stroke",e.toHEXA()),r.style.borderBottom="3px solid "+e.toHEXA(),n.applyColor(n._lastColor)})),!n){let e,i=document.createElement("i");for(e of(i.classList.add("fas"),i.classList.add("fa-trash"),i.addEventListener("click",(function(){document.querySelector("path#"+t).remove(),r.remove()})),document.querySelectorAll(".pickr")))e.contains(i)||e.appendChild(i)}}function d(){let t=function(){for(var t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],e="#",i=0;i<6;i++)n(t),e+=t[0];return e}(),e="id"+(new Date).valueOf();s(e,t),p.addNewLine(e,t)}function h(t){this.log=t.parsedLog,this.container=t.container;let e=this.container.clientHeight,i=this.container.clientWidth;this.margin={top:50,right:50,bottom:40,left:60},this.width=i-this.margin.left-this.margin.right,this.height=e-this.margin.top-this.margin.bottom-100,this.brushHeight=80}function u(t){if(null!=document.querySelector(".form-alert"))return void(document.querySelector(".form-alert").innerHTML=t);let e=document.createElement("h3");e.innerHTML=t,e.classList.add("form-alert"),document.querySelector(".third-step").appendChild(e)}let p;function m(t){Papa.parse(t,{header:!0,encoding:"latin3",skipEmptyLines:!0,transformHeader:function(t){return t.replace("�","°")},complete:function(t){!function(t){if(t.includes("Time")&&t.includes("CPU [°C]"))return!0}(t.meta.fields)?u("Please send only logs from HWInfo!"):(function(){let t;document.querySelector(".form-container").remove(),(t=document.querySelector(".loader-wrapper"))&&t.remove(),document.querySelector(".header").remove()}(),function(){document.querySelector("main").classList.remove("aligned");let t=document.createElement("div");t.classList.add("field-container"),document.querySelector("main").appendChild(t);let e=document.createElement("h4");e.innerHTML="FIELDS",e.classList.add("field-container-title"),document.querySelector(".field-container").appendChild(e),t=document.createElement("div"),t.classList.add("btn-container"),document.querySelector(".field-container").appendChild(t),t=document.createElement("div"),t.classList.add("report-container"),document.querySelector("main").appendChild(t),t=document.createElement("div"),t.classList.add("stats-container"),document.querySelector(".report-container").appendChild(t),t=document.createElement("div"),t.classList.add("selector-container"),document.querySelector(".report-container").appendChild(t),t=document.createElement("div"),t.classList.add("selector-btn-container"),document.querySelector(".selector-container").appendChild(t),t=document.createElement("div"),t.classList.add("chart-container"),document.querySelector(".report-container").appendChild(t)}(),function(t){let e,i;for(i of t)!i||i.includes("Time")||i.includes("Date")||(e=document.createElement("button"),e.id=i,e.innerHTML=i,e.classList.add("field-btn"),document.querySelector(".btn-container").appendChild(e));let n=document.getElementById("CPU [°C]");n.focus(),n.scrollIntoView({block:"center"})}(t.meta.fields),document.querySelector(".btn-container").addEventListener("click",(t=>{"field-btn"==t.target.className&&function(t){let e=document.querySelector(".selector-btn:checked");e.parentNode.querySelector("label").innerHTML=t;let i=document.querySelector(".selector-btn:first-of-type");e.id==i.id?(p.updateMainLine(t),function(t,e){let i=t.map((t=>a(t[e]))),n=d3.extent(i),r=d3.mean(i).toFixed(2),o=document.querySelector("#min_value"),l=document.querySelector("#mean"),c=document.querySelector("#max_value");o.children[0].innerHTML=n[0],l.children[0].innerHTML=r,c.children[0].innerHTML=n[1]}(p.log,t)):p.updateLineByField(t,e.id)}(t.target.innerHTML)})),function(){let t=document.createElement("button");t.classList.add("add-selector-btn"),t.classList.add("fas"),t.classList.add("fa-plus-circle"),t.id="add_selector_btn",t.addEventListener("click",d),document.querySelector(".selector-container").appendChild(t)}(),p=new h({container:document.querySelector(".chart-container"),parsedLog:t.data}),p.draw(),function(t){let e,i,n,r=t.map((t=>a(t["CPU [°C]"]))),o=d3.extent(r),l=0;for(;l<3;l++){switch(e=document.createElement("div"),i=document.createElement("h6"),n=document.createElement("h4"),e.classList.add("stats"),i.classList.add("stats-title"),n.classList.add("stats-value"),l){case 0:e.id="min_value",n.innerHTML=o[0],i.innerHTML="Minimum Value";break;case 1:e.id="mean",n.innerHTML=d3.mean(r).toFixed(2),i.innerHTML="Mean";break;case 2:e.id="max_value",n.innerHTML=o[1],i.innerHTML="Maximum Value"}document.querySelector(".stats-container").appendChild(e),e.appendChild(n),e.appendChild(i)}}(t.data))}})}i.d(e,{u:()=>p}),h.prototype.draw=function(){this.chartSVG=d3.select(this.container).append("svg").attr("class","chart-svg").attr("viewBox",`0 0 ${this.width} ${this.height}`),this.contextSVG=d3.select(this.container).append("svg").attr("class","context-svg").attr("viewBox",`0 0 ${this.width} 100`),this.clip=this.chartSVG.append("clipPath").attr("id","line_clip").append("rect").attr("transform",`translate(${this.margin.left}, 0)`).attr("width",this.width-2*this.margin.right-9).attr("height",this.height),this.addScales(),this.addAxes(),this.addGrid(),this.addMainLine(),this.addBrush(),this.addTooltip()},h.prototype.addScales=function(){this.xScale=d3.scaleTime().domain(d3.extent(this.log,(t=>r(t.Time)))).range([this.margin.left,this.width-this.margin.right]),this.yScale=d3.scaleLinear().domain(d3.extent(this.log,(t=>a(t["CPU [°C]"])))).nice().range([this.height-this.margin.bottom,this.margin.top]),this.yContextScale=d3.scaleLinear().domain(d3.extent(this.log,(t=>a(t["CPU [°C]"])))).range([this.brushHeight,this.margin.top])},h.prototype.addAxes=function(){this.xAxis=(t,e=1e3,i=this.xScale,n=this.height,r=this.margin.bottom)=>t.attr("transform",`translate(0, ${n-r})`).transition().duration(e).call(d3.axisBottom(i)).attr("class","x-axis"),this.chartSVG.append("g").call(this.xAxis),this.contextSVG.append("g").call(this.xAxis,1e3,this.xScale,100,20),this.yAxis=t=>t.attr("transform",`translate(${this.margin.left},0)`).transition().duration(1e3).call(d3.axisLeft(this.yScale)).call((t=>t.select(".domain").remove())).attr("class","y-axis"),this.chartSVG.append("g").call(this.yAxis)},h.prototype.addGrid=function(){this.chartSVG.append("g").attr("class","grid").attr("transform",`translate(${this.margin.left}, 0)`).call(d3.axisLeft(this.yScale).tickSize(-this.width+2*this.margin.right).tickFormat("")).call((t=>t.select(".domain").remove()))},h.prototype.addMainLine=function(){let t="id"+(new Date).valueOf();s(t,"#4E7BFF"),this.chartSVG.append("path").datum(this.log).attr("clip-path","url(#line_clip)").attr("fill","none").attr("stroke","#4E7BFF").attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("class","chart-line").attr("id",t).attr("d",d3.line().defined((t=>void 0!==a(t["CPU [°C]"]))).x((t=>this.xScale(r(t.Time)))).y((t=>this.yScale(a(t["CPU [°C]"]))))),this.contextSVG.append("path").datum(this.log).attr("fill","none").attr("stroke","#4E7BFF").attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("class","context-line").attr("d",d3.line().defined((t=>void 0!==a(t["CPU [°C]"]))).x((t=>this.xScale(r(t.Time)))).y((t=>this.yContextScale(a(t["CPU [°C]"])))))},h.prototype.addNewLine=function(t,e,i=this.xScale.copy(),n=this.yScale.copy()){this.brushedXScale?i=this.brushedXScale:i.domain(d3.extent(this.log,(t=>r(t.Time)))),n.domain(d3.extent(this.log,(t=>a(t["CPU [°C]"])))).nice(),this.chartSVG.insert("path",".tooltip").datum(this.log).attr("clip-path","url(#line_clip)").attr("fill","none").attr("stroke",e).attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("class","chart-line").attr("field","CPU [°C]").attr("id",t).attr("d",d3.line().defined((t=>void 0!==a(t["CPU [°C]"]))).x((t=>i(r(t.Time)))).y((t=>n(a(t["CPU [°C]"])))))},h.prototype.updateLineByField=function(t,e,i=this.xScale.copy(),n=this.yScale.copy()){this.brushedXScale?i=this.brushedXScale:i.domain(d3.extent(this.log,(t=>r(t.Time)))),n.domain(d3.extent(this.log,(e=>a(e[t])))).nice(),this.chartSVG.select("#"+e).transition().duration(1e3).attr("field",t).attr("d",d3.line().defined((e=>void 0!==a(e[t]))).x((t=>i(r(t.Time)))).y((e=>n(a(e[t])))))},h.prototype.updateMainLine=function(t){this.brushedXScale=void 0,this.selectedField=t,this.chartSVG.select(".chart-line")._groups[0][0].setAttribute("field",t),this.xScale.domain(d3.extent(this.log,(t=>r(t.Time)))),this.yScale.domain(d3.extent(this.log,(e=>a(e[t])))).nice(),this.yContextScale.domain(d3.extent(this.log,(e=>a(e[t])))),this.chartSVG.select(".x-axis").call(this.xAxis),this.chartSVG.select(".y-axis").transition().duration(1e3).call(this.yAxis),this.chartSVG.select(".grid").attr("transform",`translate(${this.margin.left}, 0)`).call(d3.axisLeft(this.yScale).tickSize(-this.width+2*this.margin.right).tickFormat("")).call((t=>t.select(".domain").remove())),1==this.chartSVG.select(".grid").selectAll(".tick").size()&&this.chartSVG.select(".grid").select(".tick").remove(),this.chartSVG.select(".chart-line").transition().duration(1e3).attr("d",d3.line().defined((e=>void 0!==a(e[t]))).x((t=>this.xScale(r(t.Time)))).y((e=>this.yScale(a(e[t]))))),this.contextSVG.select(".context-line").transition().duration(1e3).attr("d",d3.line().defined((e=>void 0!==a(e[t]))).x((t=>this.xScale(r(t.Time)))).y((e=>this.yContextScale(a(e[t]))))),this.contextSVG.select(".brush").transition().duration(1e3).call(this.brush.move,this.xScale.range()),this.chartSVG.select(".chart-line")._groups[0][0].setAttribute("domain",this.xScale.domain());let e,i=this.yScale.copy();for(e of document.querySelectorAll(".selector-btn"))t=e.parentNode.querySelector("label").innerHTML,i.domain(d3.extent(this.log,(e=>a(e[t])))).nice(),this.chartSVG.select("#"+e.id).transition().duration(1e3).attr("d",d3.line().defined((e=>void 0!==a(e[t]))).x((t=>this.xScale(r(t.Time)))).y((e=>i(a(e[t])))))},h.prototype.addBrush=function(){this.brush=d3.brushX().extent([[this.margin.left,0],[this.width-this.margin.right,this.brushHeight]]).on("brush",(t=>{if(t.sourceEvent){let e=t.selection;this.updateByBrush(e)}})),this.contextSVG.append("g").attr("class","brush").call(this.brush).call(this.brush.move,this.xScale.range())},h.prototype.updateByBrush=function(t,e=this.xScale.copy(),i=this.yScale.copy()){let n,o;for(o of(e.domain([e.invert(t[0]),e.invert(t[1])]),this.brushedXScale=e,this.chartSVG.select(".x-axis").call(this.xAxis,0,e),document.querySelectorAll(".selector-btn")))n=o.parentNode.querySelector("label").innerHTML,i.domain(d3.extent(this.log,(t=>a(t[n])))).nice(),this.chartSVG.select("#"+o.id).attr("d",d3.line().defined((t=>void 0!==a(t[n]))).x((t=>e(r(t.Time)))).y((t=>i(a(t[n])))))},h.prototype.addTooltip=function(){const t=this.chartSVG.append("g").attr("class","tooltip"),e=this.chartSVG.append("line").attr("class","tooltip-line").style("stroke","black").style("stroke-width",2).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",this.height-this.margin.bottom,this.margin.top),i=t.append("circle").attr("class","tooltip-circle").attr("r",5),n=t.append("rect").attr("class","tooltip-background").attr("width",100).attr("height",30).attr("x",15).attr("y",-21),s=t.append("rect").attr("class","tooltip-background-stroke").attr("width",100).attr("height",30).attr("x",15).attr("y",-21),d=t.append("text").attr("class","tooltip-value-container").attr("width",100).attr("height",30).attr("dx",15).attr("y",-15),h=d.append("tspan").attr("class","tooltip-time").attr("dy",15),u=this,p={tooltip:t,line:e,tooltipCircle:i,tooltipBackground:n,tooltipBackgroundStroke:s,tooltipText:d,tooltipTime:h,chart:u};this.chartSVG.on("touchmove mousemove",(function(i){t.selectAll(".tooltip-value").remove();const h=function(t){let e=document.body.clientWidth-document.querySelector(".chart-svg").getBoundingClientRect().width;return t.tooltipCircle.node().getBoundingClientRect().left+t.tooltipBackground.node().getBoundingClientRect().width-e>t.chart.width}(p);(function(t,e){let i=t.tooltipBackground.node().getBoundingClientRect().width+15,n=e?-i:15,r=e?5-i:20;t.tooltip.node().setAttribute("x",n),t.tooltipBackground.node().setAttribute("x",n),t.tooltipBackgroundStroke.node().setAttribute("x",n),t.tooltipTime.node().setAttribute("dx",r)})(p,!!h),function(t){let e=t.tooltipCircle.node().getBoundingClientRect(),i=15*(document.querySelectorAll(".selector-btn").length-1);return e.bottom+20+i>document.querySelector(".domain").getBoundingClientRect().y}(p)?o(p,!0):o(p,!1);const m=u.brushedXScale?u.brushedXScale:u.xScale;let g,f,y=l(p,m);for(g of document.querySelectorAll(".selector-btn"))f=g.parentNode.querySelector("label").innerHTML,c(f,y,p,h);const S=d.node().getBoundingClientRect(),x=S.height+10,b=S.width+10;n.node().setAttribute("height",x),n.node().setAttribute("width",b),s.node().setAttribute("height",x),s.node().setAttribute("width",b);const v=document.querySelector(".selector-div").lastChild.innerHTML,C=u.yScale;e.attr("transform","translate("+m(r(y.Time))+",0)"),t.attr("transform","translate("+m(r(y.Time))+","+C(a(y[v]))+")"),t.select(".tooltip-time").text(r(y.Time).toLocaleTimeString())})),this.chartSVG.on("mouseover",(function(){t.style("display",null),e.style("display",null)})),this.chartSVG.on("mouseout",(function(){t.style("display","none"),e.style("display","none")}))},document.getElementById("log_input").addEventListener("change",(function(){let t=document.getElementById("log_input").files[0];if(!function(t){if("text/csv"==t.type||"application/vnd.ms-excel"==t.type||!t.type)return!0}(t))return u("Please upload only CSV files!");m(t)})),document.getElementById("example").addEventListener("click",(async function(){(function(){let t=document.createElement("div");t.classList.add("loader-wrapper");let e=document.createElement("div");e.classList.add("loader"),t.appendChild(e),document.querySelector("main").appendChild(t)})(),m(await async function(){return await fetch("./assets/example.CSV").then((t=>t.text()))}())}))}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(726)})();